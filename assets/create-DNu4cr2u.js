import{k as E,r as c,l as C,m as B,n as v,p as g,o as q,q as F,a as u,s as p,e as l,v as s,w as n,x as t,g as R,F as d,y as m,E as r,z as V,A as y,B as A,t as _}from"./index-DXSOoM4Y.js";const L={class:"container"},P={class:"form-check form-check-inline"},$={class:"form-check form-check-inline"},D={class:"mt-3 row g-3"},N={class:"col-md-6"},S={class:"col-md-6"},M={class:"col-md-6"},I=["value"],J={class:"col-md-6"},O=["value"],j={class:"mt-3 row g-3"},G={class:"col-md-6"},H={class:"col-md-6"},K={class:"col-md-6"},Q={class:"mt-3 row g-3"},T={class:"mt-5 row g-3"},W=["value"],Z=E({__name:"create",setup(X){const f=c([]),x=c([]),k=c([]),o=C({address:"",image:null,region_id:null,description:"",city_id:null,zip_code:"",price:null,area:null,bedrooms:null,is_rental:null,agent_id:null}),U=B({is_rental:v().required("აირჩეთ გარიგების ტიპი!"),address:v().required("აირჩეთ გარიგების ტიპი!").min(2,"მინიმუმ 2 სიმბოლო!"),zip_code:g().typeError("მხოლოდ რიცხვები!").required("აირჩეთ გარიგების ტიპი!"),price:g().typeError("მხოლოდ რიცხვები!").required("მიუთითეთ ფასი!"),area:g().typeError("მხოლოდ რიცხვები!").required("მიუთითეთ ფართობი!"),bedrooms:g().typeError("მხოლოდ რიცხვები!").required("მიუთითეთ საძინებლის რაოდენობა!"),description:v().min(5,"მინიმუმ 5 სიმბოლო!")}),b=R();function z(i){console.log("test"),console.log(JSON.stringify(i,null,2));const e=new FormData;e.append("address",o.address),e.append("region_id",o.region_id),e.append("description",o.description),e.append("city_id",o.city_id),e.append("zip_code",o.zip_code),e.append("price",o.price),e.append("area",o.area),e.append("bedrooms",o.bedrooms),e.append("is_rental",o.is_rental),e.append("agent_id",o.agent_id),e.append("image",o.image);for(const[a,w]of e.entries())console.log(`${a}:`,w);b.appContext.app.axios({method:"post",url:"https://api.real-estate-manager.redberryinternship.ge/api/real-estates",data:e,headers:{Authorization:"Bearer 9d0d90d2-e455-4c79-b702-7db764c3a6db"}}).then(a=>{console.log("this,",a)})}function h(i){o.image=i.target.files[0]}return q(()=>{b.appContext.app.axios({method:"get",baseURL:"https://api.real-estate-manager.redberryinternship.ge/api/cities",headers:{Authorization:"Bearer 9d0d90d2-e455-4c79-b702-7db764c3a6db"}}).then(i=>{f.value=i.data,console.log("this,",i)}),b.appContext.app.axios({method:"get",baseURL:"https://api.real-estate-manager.redberryinternship.ge/api/regions",headers:{Authorization:"Bearer 9d0d90d2-e455-4c79-b702-7db764c3a6db"}}).then(i=>{x.value=i.data,console.log("this,",i)}),b.appContext.app.axios({method:"get",baseURL:"https://api.real-estate-manager.redberryinternship.ge/api/agents",headers:{Authorization:"Bearer 9d0d90d2-e455-4c79-b702-7db764c3a6db"}}).then(i=>{k.value=i.data})}),F(f,()=>{console.log("Cart items changed",f.value)}),(i,e)=>(u(),p("div",L,[e[31]||(e[31]=l("h4",{class:"mt-5 text-center"},"ლისტინგის დამატება",-1)),s(t(A),{id:"form",onSubmit:z,"validation-schema":t(U)},{default:n(()=>[l("div",null,[e[14]||(e[14]=l("div",null,[l("label",{class:"form-label"},[l("h5",null,"გარიგების ტიპი")])],-1)),l("div",P,[s(t(d),{modelValue:o.is_rental,"onUpdate:modelValue":e[0]||(e[0]=a=>o.is_rental=a),id:"inlineRadio1",name:"is_rental"},{default:n(({field:a})=>[l("input",m({type:"radio",class:"form-check-input"},a,{value:0}),null,16)]),_:1},8,["modelValue"]),e[12]||(e[12]=l("label",{class:"form-check-label",for:"inlineRadio1"},"იყიდება",-1))]),l("div",$,[s(t(d),{modelValue:o.is_rental,"onUpdate:modelValue":e[1]||(e[1]=a=>o.is_rental=a),id:"inlineRadio2",name:"is_rental"},{default:n(({field:a})=>[l("input",m({type:"radio",class:"form-check-input"},a,{value:1}),null,16)]),_:1},8,["modelValue"]),e[13]||(e[13]=l("label",{class:"form-check-label",for:"inlineRadio2"},"ქირავდება",-1))]),s(t(r),{name:"is_rental"})]),l("div",D,[e[21]||(e[21]=l("div",null,[l("label",{class:"form-label"},[l("h5",null,"მდებარეობა")])],-1)),l("div",N,[e[15]||(e[15]=l("label",{for:"inputEmail4",class:"form-label"},"მისამართი",-1)),s(t(d),{modelValue:o.address,"onUpdate:modelValue":e[2]||(e[2]=a=>o.address=a),name:"address"},{default:n(({field:a})=>[l("input",m({type:"input",class:"form-control"},a),null,16)]),_:1},8,["modelValue"]),s(t(r),{name:"address"})]),l("div",S,[e[16]||(e[16]=l("label",{for:"inputPassword4",class:"form-label"},"საფოსტო ინდექსი",-1)),s(t(d),{modelValue:o.zip_code,"onUpdate:modelValue":e[3]||(e[3]=a=>o.zip_code=a),name:"zip_code"},{default:n(({field:a})=>[l("input",m({type:"input",class:"form-control"},a),null,16)]),_:1},8,["modelValue"]),s(t(r),{name:"zip_code"})]),l("div",M,[e[18]||(e[18]=l("label",{for:"inputEmail4",class:"form-label"},"რეგიონი",-1)),s(t(d),{class:"form-select",modelValue:o.region_id,"onUpdate:modelValue":e[4]||(e[4]=a=>o.region_id=a),name:"region_id",as:"select"},{default:n(()=>[e[17]||(e[17]=l("option",{value:"",disabled:""},"რეგიონი",-1)),(u(!0),p(V,null,y(x.value,a=>(u(),p("option",{key:a.id,value:a.id},_(a.name),9,I))),128))]),_:1},8,["modelValue"]),s(t(r),{name:"region_id"})]),l("div",J,[e[20]||(e[20]=l("label",{for:"inputPassword4",class:"form-label"},"ქალაქი",-1)),s(t(d),{class:"form-select",modelValue:o.city_id,"onUpdate:modelValue":e[5]||(e[5]=a=>o.city_id=a),name:"city_id",as:"select"},{default:n(()=>[e[19]||(e[19]=l("option",{value:"",disabled:""},"ქალაქი",-1)),(u(!0),p(V,null,y(f.value,a=>(u(),p("option",{key:a.id,value:a.id},_(a.name),9,O))),128))]),_:1},8,["modelValue"]),s(t(r),{name:"city"})])]),l("div",j,[e[25]||(e[25]=l("div",null,[l("label",{class:"form-label"},[l("h5",null,"ბინის დეტალები")])],-1)),l("div",G,[e[22]||(e[22]=l("label",{for:"inputEmail4",class:"form-label"},"ფასი",-1)),s(t(d),{modelValue:o.price,"onUpdate:modelValue":e[6]||(e[6]=a=>o.price=a),name:"price"},{default:n(({field:a})=>[l("input",m({type:"input",class:"form-control"},a),null,16)]),_:1},8,["modelValue"]),s(t(r),{name:"price"})]),l("div",H,[e[23]||(e[23]=l("label",{for:"inputPassword4",class:"form-label"},"ფართობი",-1)),s(t(d),{modelValue:o.area,"onUpdate:modelValue":e[7]||(e[7]=a=>o.area=a),name:"area"},{default:n(({field:a})=>[l("input",m({type:"input",class:"form-control"},a),null,16)]),_:1},8,["modelValue"]),s(t(r),{name:"area"})]),l("div",K,[e[24]||(e[24]=l("label",{for:"inputEmail4",class:"form-label"},"საძინებლის რაოდენობა",-1)),s(t(d),{modelValue:o.bedrooms,"onUpdate:modelValue":e[8]||(e[8]=a=>o.bedrooms=a),name:"bedrooms"},{default:n(({field:a})=>[l("input",m({type:"input",class:"form-control"},a),null,16)]),_:1},8,["modelValue"]),s(t(r),{name:"bedrooms"})]),e[26]||(e[26]=l("label",{for:"inputEmail4",class:"form-label"},"აღწერა",-1)),s(t(d),{modelValue:o.description,"onUpdate:modelValue":e[9]||(e[9]=a=>o.description=a),name:"description"},{default:n(({field:a})=>[l("textarea",m({type:"input",class:"form-control"},a),null,16)]),_:1},8,["modelValue"]),s(t(r),{name:"description"})]),l("div",Q,[e[27]||(e[27]=l("div",null,[l("label",{class:"form-label"},[l("h5",null,"ატვირთეთ ფოტო *")])],-1)),l("input",{class:"form-control",type:"file",onChange:e[10]||(e[10]=a=>h(a)),id:"formFile"},null,32)]),l("div",T,[e[29]||(e[29]=l("div",null,[l("label",{class:"form-label"},[l("h5",null,"აგენტი")])],-1)),s(t(d),{class:"form-select",modelValue:o.agent_id,"onUpdate:modelValue":e[11]||(e[11]=a=>o.agent_id=a),name:"agent_id",as:"select"},{default:n(()=>[e[28]||(e[28]=l("option",{value:"",disabled:""},"აგენტი",-1)),(u(!0),p(V,null,y(k.value,a=>(u(),p("option",{key:a.id,value:a.id},_(a.name),9,W))),128))]),_:1},8,["modelValue"])]),e[30]||(e[30]=l("div",{class:"d-flex flex-row-reverse bd-highlight mb-3 mt-3"},[l("div",{class:"p-2 bd-highlight"},[l("button",{type:"submit",for:"form",class:"btn btn-danger"},"ლისტინგის დამატება")]),l("div",{class:"p-2 bd-highlight"},[l("button",{type:"submit",for:"form",class:"btn btn-outline-danger"},"გაუქმება")])],-1))]),_:1},8,["validation-schema"])]))}});export{Z as default};
